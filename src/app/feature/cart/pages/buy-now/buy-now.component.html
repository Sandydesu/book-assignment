<div fxLayout="row" fxLayoutAlign="space-around">
  <div fxFlex="40" fxLayoutGap="20px">
    <mat-card *ngFor="let book of books; trackBy: trackById">
      <mat-card-header>
        <mat-card-title>{{ book?.volumeInfo?.title }}</mat-card-title>
        <mat-card-subtitle>{{
          book?.volumeInfo?.authors?.join(",")
        }}</mat-card-subtitle>
        <img
          class="book-image"
          src="{{ book?.volumeInfo?.imageLinks?.smallThumbnail }}"
          [alt]="book?.volumeInfo?.title"
        />
      </mat-card-header>
      <mat-card-content>
        <p>
          {{ book?.volumeInfo?.description || "" | more: 150:149 }}
        </p>
      </mat-card-content>
    </mat-card>
  </div>
  <div fxFlex="40" fxLayoutGap="20px" class="buy-now-details">
    <form [formGroup]="buyNowForm">
      <p>
        <mat-form-field appearance="outline">
          <mat-label>Name</mat-label>
          <input
            matInput
            placeholder="Name"
            formControlName="name"
            [value]="buyNowForm.get('name')?.value"
          />
          <mat-error>Name Required!</mat-error>
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="outline">
          <mat-label>Phone Number</mat-label>
          <input
            matInput
            placeholder="Phone Number"
            formControlName="phone"
            [value]="buyNowForm.get('phone')?.value | phone"
            (keydown)="allowOnlyNumbers($event)"
            (paste)="allowOnlyNumbers($event)"
          />
          <mat-error>Phone Number Required!</mat-error>
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <input
            matInput
            placeholder="Email"
            formControlName="email"
            [value]="buyNowForm.get('email')?.value"
          />
          <mat-error>Email Required!</mat-error>
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="outline">
          <mat-label>Address</mat-label>
          <textarea
            matInput
            placeholder="Address"
            formControlName="address"
            [value]="buyNowForm.get('address')?.value"
          ></textarea>
          <mat-error>Address Required!</mat-error>
        </mat-form-field>
      </p>
      <button mat-stroked-button color="accent" [disabled]="!buyNowForm.valid" (click)="buyNow()">
        BuyNow
      </button>
    </form>
  </div>
</div>
